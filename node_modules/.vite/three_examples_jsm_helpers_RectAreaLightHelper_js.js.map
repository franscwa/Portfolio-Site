{
  "version": 3,
  "sources": ["../three/examples/jsm/helpers/RectAreaLightHelper.js"],
  "sourcesContent": ["import {\n\tBackSide,\n\tBufferGeometry,\n\tFloat32BufferAttribute,\n\tLine,\n\tLineBasicMaterial,\n\tMesh,\n\tMeshBasicMaterial\n} from 'three';\n\n/**\n *  This helper must be added as a child of the light\n */\n\nclass RectAreaLightHelper extends Line {\n\n\tconstructor( light, color ) {\n\n\t\tconst positions = [ 1, 1, 0, - 1, 1, 0, - 1, - 1, 0, 1, - 1, 0, 1, 1, 0 ];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\t\tgeometry.computeBoundingSphere();\n\n\t\tconst material = new LineBasicMaterial( { fog: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.light = light;\n\t\tthis.color = color; // optional hardwired color for the helper\n\t\tthis.type = 'RectAreaLightHelper';\n\n\t\t//\n\n\t\tconst positions2 = [ 1, 1, 0, - 1, 1, 0, - 1, - 1, 0, 1, 1, 0, - 1, - 1, 0, 1, - 1, 0 ];\n\n\t\tconst geometry2 = new BufferGeometry();\n\t\tgeometry2.setAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\t\tgeometry2.computeBoundingSphere();\n\n\t\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { side: BackSide, fog: false } ) ) );\n\n\t}\n\n\tupdateMatrixWorld() {\n\n\t\tthis.scale.set( 0.5 * this.light.width, 0.5 * this.light.height, 1 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\t\t\tthis.children[ 0 ].material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.material.color.copy( this.light.color ).multiplyScalar( this.light.intensity );\n\n\t\t\t// prevent hue shift\n\t\t\tconst c = this.material.color;\n\t\t\tconst max = Math.max( c.r, c.g, c.b );\n\t\t\tif ( max > 1 ) c.multiplyScalar( 1 / max );\n\n\t\t\tthis.children[ 0 ].material.color.copy( this.material.color );\n\n\t\t}\n\n\t\t// ignore world scale on light\n\t\tthis.matrixWorld.extractRotation( this.light.matrixWorld ).scale( this.scale ).copyPosition( this.light.matrixWorld );\n\n\t\tthis.children[ 0 ].matrixWorld.copy( this.matrixWorld );\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\t\tthis.children[ 0 ].geometry.dispose();\n\t\tthis.children[ 0 ].material.dispose();\n\n\t}\n\n}\n\nexport { RectAreaLightHelper };\n"],
  "mappings": ";;;;;;;;;;;;AAcA,wCAAkC,KAAK;AAAA,EAEtC,YAAa,OAAO,OAAQ;AAE3B,UAAM,YAAY,CAAE,GAAG,GAAG,GAAG,IAAK,GAAG,GAAG,IAAK,IAAK,GAAG,GAAG,IAAK,GAAG,GAAG,GAAG;AAEtE,UAAM,WAAW,IAAI;AACrB,aAAS,aAAc,YAAY,IAAI,uBAAwB,WAAW;AAC1E,aAAS;AAET,UAAM,WAAW,IAAI,kBAAmB,EAAE,KAAK;AAE/C,UAAO,UAAU;AAEjB,SAAK,QAAQ;AACb,SAAK,QAAQ;AACb,SAAK,OAAO;AAIZ,UAAM,aAAa,CAAE,GAAG,GAAG,GAAG,IAAK,GAAG,GAAG,IAAK,IAAK,GAAG,GAAG,GAAG,GAAG,IAAK,IAAK,GAAG,GAAG,IAAK;AAEpF,UAAM,YAAY,IAAI;AACtB,cAAU,aAAc,YAAY,IAAI,uBAAwB,YAAY;AAC5E,cAAU;AAEV,SAAK,IAAK,IAAI,KAAM,WAAW,IAAI,kBAAmB,EAAE,MAAM,UAAU,KAAK;AAAA;AAAA,EAI9E,oBAAoB;AAEnB,SAAK,MAAM,IAAK,MAAM,KAAK,MAAM,OAAO,MAAM,KAAK,MAAM,QAAQ;AAEjE,QAAK,KAAK,UAAU,QAAY;AAE/B,WAAK,SAAS,MAAM,IAAK,KAAK;AAC9B,WAAK,SAAU,GAAI,SAAS,MAAM,IAAK,KAAK;AAAA,WAEtC;AAEN,WAAK,SAAS,MAAM,KAAM,KAAK,MAAM,OAAQ,eAAgB,KAAK,MAAM;AAGxE,YAAM,IAAI,KAAK,SAAS;AACxB,YAAM,MAAM,KAAK,IAAK,EAAE,GAAG,EAAE,GAAG,EAAE;AAClC,UAAK,MAAM;AAAI,UAAE,eAAgB,IAAI;AAErC,WAAK,SAAU,GAAI,SAAS,MAAM,KAAM,KAAK,SAAS;AAAA;AAKvD,SAAK,YAAY,gBAAiB,KAAK,MAAM,aAAc,MAAO,KAAK,OAAQ,aAAc,KAAK,MAAM;AAExG,SAAK,SAAU,GAAI,YAAY,KAAM,KAAK;AAAA;AAAA,EAI3C,UAAU;AAET,SAAK,SAAS;AACd,SAAK,SAAS;AACd,SAAK,SAAU,GAAI,SAAS;AAC5B,SAAK,SAAU,GAAI,SAAS;AAAA;AAAA;",
  "names": []
}
